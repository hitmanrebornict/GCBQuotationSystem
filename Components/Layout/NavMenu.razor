<div class="top-row ps-3 navbar navbar-dark" style="background-color:#121212;">
    <div class="container-fluid">   
        <a class="navbar-brand" href="">GCBQuoteSystem</a>
    </div>
</div>

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()" style="background-color:#2F3E46">
    <nav class="nav flex-column">
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                <span class="bi bi-house-door-fill-nav-menu" aria-hidden="true"></span> Home
            </NavLink>
        </div>

        <div class="nav-item px-3">
            <NavLink class="nav-link" href="QuotationList">
                <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Quotation List
            </NavLink>
        </div>

        <!-- Master Data Dropdown -->
        <div class="nav-item px-3">
            <div class="nav-link dropdown-toggle" @onclick="ToggleMasterDataDropdown" >
                <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Master Data
                <span class="dropdown-arrow @(masterDataExpanded ? "expanded" : "")"></span>
            </div>
            <div class="dropdown-content @(masterDataExpanded ? "show" : "")">
                <NavLink class="dropdown-link" href="masterdata">
                    <span class="bi bi-currency-dollar" aria-hidden="true"></span> Raw Material Price
                </NavLink>
                <NavLink class="dropdown-link" href="recipe">
                    <span class="bi bi-book" aria-hidden="true"></span> Recipes
                </NavLink>
                <NavLink class="dropdown-link" href="customers">
                    <span class="bi bi-people" aria-hidden="true"></span> Customers
                </NavLink>
                <NavLink class="dropdown-link" href="customerDelivery">
                    <span class="bi bi-truck" aria-hidden="true"></span> Customer Delivery
                </NavLink>
                <NavLink class="dropdown-link" href="deliverycost">
                    <span class="bi bi-cash" aria-hidden="true"></span> Delivery Cost
                </NavLink>
                <NavLink class="dropdown-link" href="terminalcost">
                    <span class="bi bi-percent" aria-hidden="true"></span> Terminal Cost
                </NavLink>
                <NavLink class="dropdown-link" href="packagingMaterial">
                    <span class="bi bi-box" aria-hidden="true"></span> Packaging Material
                </NavLink>
                <NavLink class="dropdown-link" href="premium">
                    <span class="bi bi-star" aria-hidden="true"></span> Premium
                </NavLink>
            </div>
        </div>

        <div class="nav-item px-3">
            <NavLink class="nav-link" href="settings">
                <span class="bi bi-gear-nav-menu" aria-hidden="true"></span> Settings
            </NavLink>
        </div>
    </nav>
</div>

<style>
    .dropdown-toggle {
        display: flex;
        align-items: center;
    }

    .dropdown-arrow {
        transition: transform 0.3s ease;
        font-size: 0.8em;
        margin-left: 0.5em;
    }

    .dropdown-arrow.expanded {
        transform: rotate(180deg);
    }

    .dropdown-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
        background-color: rgba(0, 0, 0, 0.1);
        margin-left: 1rem;
    }

    .dropdown-content.show {
        max-height: 500px;
    }

    .dropdown-link {
        display: block;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        font-size: 0.9em;
        border-left: 2px solid transparent;
        transition: all 0.2s ease;
    }

    .dropdown-link:hover {
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
        border-left-color: #007bff;
        text-decoration: none;
    }

    .dropdown-link.active {
        background-color: rgba(255, 255, 255, 0.2);
        color: white;
        border-left-color: #007bff;
    }

    /* Prevent the onclick from closing the menu when clicking dropdown items */
    .dropdown-content {
        pointer-events: auto;
    }

    .dropdown-content .dropdown-link {
        pointer-events: auto;
    }
</style>

@code {
    private bool masterDataExpanded = false;

    private void ToggleMasterDataDropdown()
    {
        masterDataExpanded = !masterDataExpanded;
    }
}

